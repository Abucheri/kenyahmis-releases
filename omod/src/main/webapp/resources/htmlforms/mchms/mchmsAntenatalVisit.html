<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
  -->
<htmlform>

<style type="text/css">
	table.tb {
		background-color: #B3C2F0;
		border: 1px solid black;
	}

	table.tb1 {
		border: 1px solid black;
		vertical-align: baseline;
		text-align: left;
		background-color: #E1E1FF;
	}

	table.tb1 tr th, table.tb1 tr td {
		border: 0;
		padding: 10px;
	}

	.arv-med {
	}
</style>
	<script type="text/javascript" src="../moduleResources/kenyaemr/scripts/moment.js"></script>
<script type="text/javascript">

	var ARV_CONCEPT_ID = 1148;
	var HAART_CONCEPT_ID = 1149;
	var NA_CONCEPT_ID = 1175;
    var NOT_HIV_TESTED_ID = 1402;
    var NEGATIVE = 664;
    var UNKNOWN = 1067;
    var PATIENT_IS_ENROLLED_HIV = <lookup expression="kenyaemr.hasHivUniquePatientNumber()" />;
    var PATIENT_IS_REPORTED_HIV = "<lookup expression="fn.latestObs(159427).getValueCoded()"/>";

//Start on ready
	jq(function () {

		jq('#arv-status input').click(onArvStatusChange);
		jq('#counselled input').click(onANCCounselChange);
        jq('.syphilis-treated').hide();
        jq('#syphilis-test-results select').change(onSyphilisResultChange);

		onArvStatusChange();
        onANCCounselChange();
		getField('arv-status.value').change(onArvStatusChange);
		getField('counselled.value').change(onANCCounselChange);

		getField('weight.value').change(onWeightOrHeightChange);
		getField('height.value').change(onWeightOrHeightChange);
		onWeightOrHeightChange();
        //vl and ldl validation
        getField('ldl.value').change(viralLoadValidation);
        getField('vl.value').keyup(viralLoadValidation);
        viralLoadValidation;

        // HIV Test validation
        jq("#hiv-test2").hide();
        jq('#hiv-final-result select').attr("style", "pointer-events:none;");
        jq("#hiv-test1-result select").change(firstTestSelected);
        jq("#hiv-test2-result select").change(secondTestSelected);
        //test kit expiry
        jq("#expiry-date input").change(expiryDateSelected);
		//Validation for if already hiv positive
        if(PATIENT_IS_REPORTED_HIV == 703 || PATIENT_IS_ENROLLED_HIV){
            jq('#tbl-hiv-test').hide();
        }else{
            jq('#tbl-hiv-test').show();
        }
        //Recent HIV tests
        if(PATIENT_IS_REPORTED_HIV == 703){
            jq('#hiv-status:text').val('Positive');
		}else if(PATIENT_IS_REPORTED_HIV == 664){
            jq('#hiv-status:text').val('Negative');
		}else{
            jq('#hiv-status:text').val('Not available');
		}

        //skip pattern
        //First test
        var firstTest = getField("hiv-test1-result.value").val();
        //Negative
        if(firstTest ==664) {

            jq("#hiv-test2-result select").prop("disabled", true);
            jq(".kit-name2 select").prop("disabled", true);
            jq(".lot-number2 input").prop("disabled", true);
            jq("#expiry-date2 input").prop("disabled", true);
            getField('hiv-final-result.value').val(664);
            jq('#ccc-no input').prop("disabled", true);
        }
        //Positive
        if(firstTest ==703){

            jq("#hiv-test2-result select").prop("disabled", false);
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
        }
        //Invalid
        if(firstTest ==163611){

            jq("#hiv-test2-result select").prop("disabled", false);
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
        }
        //Final test
        var secondTest = getField("hiv-test2-result.value").val();
        //Negative
        if(secondTest ==664) {
            jq(".kit-name2 select").prop("disabled", true);
            jq(".lot-number2 input").prop("disabled", true);
            jq("#expiry-date2 input").prop("disabled", true);
            getField('hiv-final-result.value').val(664);
            jq('#ccc-no input').prop("disabled", true);
        }
        //Positive
        if(secondTest ==703){
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(703);
            jq('#ccc-no input').prop("disabled", false);
        }
        //Invalid
        if(secondTest ==163611){
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(1138);
        }
        //Invalid
        if(secondTest ==1175){
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(1138);
        }
	});
//End on ready

	beforeSubmit.push(function () {
		if (validateOtherFields()) {
			if (!jq('#arv-medication').is(':visible')) {
				clearArvMeds();
			}
			return true;
		}
		return false;
	});

	function onArvStatusChange() {
        if (getValue('arv-status.value') == ARV_CONCEPT_ID) {
            jq('#arv-medication').show();
        } else if (getValue('arv-status.value') == HAART_CONCEPT_ID) {
            jq('#arv-medication').show();
        } else {
            jq('#arv-medication').hide();
        }
    }
    function onANCCounselChange() {
        var subjectCounselled = jq('#subject select').val('');
        if (getValue('counselled.value') == 1065) {
            jq('#anc-counselling').show();
        }else{
            jq('#anc-counselling').hide();
            getField('subject.value').val("");
        }
    }
    function onSyphilisResultChange() {
        var syphilisResult = jq('#syphilis-test-results select').val();
        var syphilisTreated = jq('.syphilisTreated');
        if (syphilisResult == 1228) {
            jq('.syphilis-treated').show();
        }else{
            jq('.syphilis-treated').hide();
           clearHiddenSections(jq('.syphilisTreated'));
        }
    }
	function clearArvMeds() {
		jq('.arv-med').each(function () {
			var elementId = jq(this).attr('id');
			setValue(elementId + '.value', null);
		});
	}

	function onWeightOrHeightChange() {
		var display = '';
		var weightKg = parseFloat(getValue('weight.value'));
		var heightM = parseFloat(getValue('height.value')) / 100;
		if (!isNaN(weightKg) &amp;&amp; !isNaN(heightM)) {
			var bmi = weightKg / (heightM * heightM);
			if (isNaN(bmi) || bmi &lt; 10 || bmi &gt; 50) {
				display = 'Abnormal value. Were height and height entered correctly?';
			}
			else {
				display = bmi.toFixed(2);
			}
		}
		jq('#calculated-bmi').html(display);
	}

	function validateOtherFields() {
		var fundalHeight = getValue('fundal.value');
		var urinePh = getValue('urine-ph.value');
		var urineSpecificGravity = getValue('urine-specific-gravity.value');

		if (fundalHeight &lt; 0 || fundalHeight &gt; 40) {
			getField('fundal.error').html('Fundal Height should be between 0 and 40.').show();
			return false;
		}
		if (urinePh != null) {
			var urinePhValue = parseFloat(urinePh);
			if (urinePhValue &lt; 5.0 || urinePhValue &gt; 9.0) {
				getField('urine-ph.error').html('Urine pH must be between 5.0 and 9.0..').show();
				return false;
			}
		}
		if (urineSpecificGravity != null) {
			var urineSpecificGravityValue = parseFloat(urineSpecificGravity);
			if (urineSpecificGravityValue &lt; 1.0000 || urineSpecificGravityValue &gt; 1.1000) {
				getField('urine-specific-gravity.error').html('Urine specific gravity must be between 1.000 and 1.1000..').show();
				return false;
			}
		}
		return true;
	}
    function viralLoadValidation() {
        var vl = parseInt(getValue('vl.value'));
        if (vl > 0 ) {
            jq('#vl :input').prop("disabled", false);
            jq('#ldl :input').prop("disabled", true);
        }else {
            jq('#ldl :input').prop("disabled", false);
        }
        if (getValue('ldl.value') == 1302) {
            jq('#vl :input').prop("disabled", true);
            jq('#ldl :input').prop("disabled", false);
        }else {
            jq('#vl :input').prop("disabled", false);
            jq('#ldl :input').prop("disabled", true);
        }
    }

    //First and second test validation
    var firstTestSelected  = function () {
        var firstTest = getField("hiv-test1-result.value").val();
        //Negative
        if(firstTest ==664) {
            jq("#hiv-test2").hide();

            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            clearHiddenSections(jq('#hiv-test2-result'));
            clearHiddenSections(jq('.kit-name2'));
            clearHiddenSections(jq('.lot-number2'));
            getField('hiv-final-result.value').val(664);
            jq('#ccc-no input').prop("disabled", true);
        }
        //Positive
        if(firstTest ==703){
            jq("#hiv-test2").show();
            jq("#hiv-test2-result select").prop("disabled", false);
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            clearHiddenSections(jq('#hiv-final-result'));
            clearHiddenSections(jq('#hiv-test2-result'));
        }
        //Invalid
        if(firstTest ==163611){
            jq("#hiv-test2").show();
            jq("#hiv-test2-result select").prop("disabled", false);
            jq("kit-name2 select").prop("disabled", false);
            jq("lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            clearHiddenSections(jq('#hiv-test2-result'));
        }
    }
    var secondTestSelected  = function () {
        var secondTest = getField("hiv-test2-result.value").val();
        //Negative
        if(secondTest ==664) {
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            getField('hiv-final-result.value').val(1138);
            jq('#ccc-no input').prop("disabled", true);
        }
        //Positive
        if(secondTest ==703){
            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(703);
            jq('#ccc-no input').prop("disabled", false);
        }
        //Invalid
        if(secondTest ==163611){
            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(1138);
        }
        //Invalid
        if(secondTest ==1175){
            clearHiddenSections(jq('#ccc-no'));
            clearHiddenSections(jq('#hiv-final-result'));
            jq(".kit-name2 select").prop("disabled", false);
            jq(".lot-number2 input").prop("disabled", false);
            jq("#expiry-date2 input").prop("disabled", false);
            getField('hiv-final-result.value').val(1138);
        }
    }

    var expiryDateSelected  = function () {
        var encounterDate = getValue('encounter-date.value');
        var testKitExpiryDate = getValue('expiry-date.value');
        var isTestKitExpiryBeforeEncounterDate = moment(moment(moment(testKitExpiryDate, 'YYYY-MM-DD').toDate()).format('YYYY-MM-DD')).isBefore(moment(moment(encounterDate, 'YYYY-MM-DD').toDate()).format('YYYY-MM-DD'));
        if (isTestKitExpiryBeforeEncounterDate) {
            getField('expiry-date.error').html('HIV Test Kit expiry date should not be later than encounter Date').show();
        }
    }

    //Clear hidden sections
    clearHiddenSections = function(parentObj) {
        parentObj.find('input[type=radio]').each(function() {
            this.checked = false;
        });
        parentObj.find('input[type=checkbox]').each(function() {
            this.checked = false;
        });
        parentObj.find('input[type=text]').each(function() {
            jq(this).val("");
        });
        parentObj.find('select').each(function() {
            this.selectedIndex =0;
        });
    }


</script>

<div class="ke-form-header">
	<table style="width: 100%">
		<tr>
			<td>Date:
				<encounterDate id="encounter-date" showTime="true"/>
			</td>
			<td>Provider:
				<encounterProvider default="currentUser"/>
			</td>
			<td>Location:
				<encounterLocation default="GlobalProperty:kenyaemr.defaultLocation"/>
			</td>
		</tr>
	</table>
</div>

<div class="ke-form-content">
<table align="center" border="0" class="tb" cellspacing="10">
<tr>
	<td colspan="2">
		<div class="ke-form-instructions">
			<b>*</b>
			indicates a required field
		</div>
	</td>
</tr>
	<tr>
		<td>
			<legend>Visit details: </legend>
			<table align="top" width="100%" class="tb1">
				<tr>
					<td>
						<table>
							<tr>
								<td width="250">ANC Visit Number</td>
								<td>
									<obs conceptId="1590AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</td>
	</tr>
<tr>
	<td>
		<legend>Vitals</legend>
		<table align="top" width="100%" class="tb1">
			<tr>
				<td>
					<table>
						<tr>
							<td width="250">Temperature</td>
							<td>
								<obs conceptId="5088AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Pulse Rate</td>
							<td>
								<obs conceptId="5087AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>B.P.</td>
							<td>
								<obs conceptId="5085AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
								/
								<obs conceptId="5086AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
								mmHg
							</td>
						</tr>
						<tr>
							<td>Respiratory Rate</td>
							<td>
								<obs conceptId="5242AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Oxygen Saturation</td>
							<td>
								<obs conceptId="5092AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Weight</td>
							<td>
								<obs conceptId="5089AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="weight"/>
							</td>
						</tr>
						<tr>
							<td>Height</td>
							<td>
								<obs conceptId="5090AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="height"/>
							</td>
						</tr>
						<tr>
							<td>BMI</td>
							<td><span id="calculated-bmi" class="value"></span></td>
						</tr>
						<tr>
							<td>MUAC</td>
							<td>
								<obs conceptId="1343AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
					</table>
				</td>
				<td>
					<table border="1">
						<tr>
							<td>
								<u>
									Other Vitals Recorded Recently
								</u>
								<br/>
								<br/>
								Temperature:
								<lookup expression="fn.latestObs(5088).valueNumeric"/>
								<br/>
								Pulse:
								<lookup expression="fn.latestObs(5087).valueNumeric"/>
								<br/>
								B.P.:
								<lookup expression="fn.latestObs(5085).valueNumeric"/>
								/
								<lookup expression="fn.latestObs(5086).valueNumeric"/>
								<br/>
								Respiratory Rate:
								<lookup expression="fn.latestObs(5242).valueNumeric"/>
								<br/>
								Oxygen Saturation:
								<lookup expression="fn.latestObs(5092).valueNumeric"/>
								<br/>
								Weight:
								<lookup expression="fn.latestObs(5089).valueNumeric"/>
								<br/>
								Height:
								<lookup expression="fn.latestObs(5090).valueNumeric"/>
								<br/>
								MUAC:
								<lookup expression="fn.latestObs(1343).valueNumeric"/>
								<br/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</td>
	<td valign="top">
		<table>
			<tr>
				<td>
					<legend>Other Observations</legend>
					<table align="center" width="100%" class="tb1">
						<tr>
							<td>Breast examination done:</td>
							<td>
								<obs conceptId="163590AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
									 answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Pallor:</td>
							<td>
								<obs conceptId="5245AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
									 answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Maturity:</td>
							<td>
								<obs conceptId="1438AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Fundal Height (Weeks):</td>
							<td>
								<obs conceptId="1439AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="fundal"/>
							</td>
						</tr>
						<tr>
							<td>Presentation:</td>
							<td>
								<obs conceptId="160090AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
									 answerConceptIds="139814AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160091AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Lie:</td>
							<td>
								<obs conceptId="162089AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Foetal Heart Rate:</td>
							<td>
								<obs conceptId="1440AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
						<tr>
							<td>Foetal Movement:</td>
							<td>
								<obs conceptId="162107AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</td>
</tr>
	<tr>
		<td colspan="2">
			<legend>Laboratory investigations</legend>
			<table align="center" width="100%" class="tb1">
					<tr>
						<td>
							<table id="tbl-hiv-test">
								<obsgroup groupingConceptId="164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
									<tr>
										<td colspan="6">
											<br/>
											<strong>HIV Testing</strong>
											<hr />
										</td>
									</tr>
								<tr>
									<td>HIV Test 1 Results:
										<obs id="hiv-test1-result" conceptId="1040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,163611AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 style="dropdown" answerLabels="Positive,Negative,Invalid"/>
									</td>
									<td>&#160;&#160;&#160;&#160; Kit Name
										<obs class="kit-name"
											 id="kit-name-1"
											 conceptId="164962"
											 answerConceptIds="164960,164961"
											 style="dropdown" answerLabels="Determine,First Response"
										/>

									</td>
									<td>&#160;&#160;&#160;&#160;Lot Number
										<obs
												class="lot-number"
												id="lot-number-1"
												conceptId="164964"
										/>

									</td>
									<td>&#160;&#160;&#160;&#160;Expiry Date
										<obs id="expiry-date" conceptId="162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"
										/>
									</td>
								</tr>
								</obsgroup>
								 <obsgroup groupingConceptId="164410AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
								  <tr id="hiv-test2">

									<td>HIV Test 2 Results:
										<obs id="hiv-test2-result" conceptId="1326AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1175AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 style="dropdown" answerLabels="Positive,Negative,N/A"/>
									</td>
									<td>&#160;&#160;&#160;&#160; Kit Name
										<obs class="kit-name2"
											 id="kit-name-2"
											 conceptId="164962"
											 answerConceptIds="164960,164961"
											 style="dropdown" answerLabels="Determine,First Response"
										/>

									</td>
									<td>&#160;&#160;&#160;&#160;Lot Number
										<obs class="lot-number2"
											 id="lot-number-2"
											 conceptId="164964"
										/>

									</td>
									<td>&#160;&#160;&#160;&#160;Expiry Date
										<obs id="expiry-date2" conceptId="162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"
										/>
									</td>
								  </tr>
			             	</obsgroup>
								<tr>
									<td>Final Results:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
										<obs id="hiv-final-result" conceptId="159427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Positive,Negative,Inconclusive"/>
									</td>
									<td>&#160;&#160;&#160;&#160;Results given to client?&#160;&#160;&#160;&#160;
										<obs class="result-given" conceptId="164848AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 style="dropdown" answerLabels="YES,NO"/>
									</td>
									<td>
										<table border="1">
											<tr>
												<td>
													<u>
														Other HIV Test Recorded Recently
													</u>
													<br/>
													<br/>
													Date:
													<lookup expression="fn.latestObs(159427).getObsDatetime()"/>
													<br/>
													Final results:
												 <input type="text" name="hiv-status" id="hiv-status" readonly="True" />
													<br/>
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
							<table>
								<br/>
								<legend><strong>Urinalysis</strong></legend>
								<hr />
								<obsgroup groupingConceptId="161446AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
								<tr>
									<td>Urine Microscopy</td>
									<td>
										<obs conceptId="56AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" rows="3" cols="38"/>
									</td>
									<td>Urine Leukocyte Esterase Test</td>
									<td>
										<obs conceptId="161441AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,Trace,One Plus(+),Two Plus(++),Three Plus(+++)"/>
									</td>
								</tr>
								<tr>
									<td>Urinary Albumin</td>
									<td>
										<obs conceptId="1875AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1365AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,Trace - 15,One Plus(+) - 30,Two Plus(++) - 100,Three Plus(+++) - 300,Four Plus(++++) - 1000"/>
										mg/dL
									</td>
									<td>Urinary Ketone</td>
									<td>
										<obs conceptId="161442AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,Trace - 5,One Plus(+) - 15,Two Plus(++) - 50,Three Plus(+++) - 150"/>
										mg/dL
									</td>
								</tr>
								<tr>
									<td>Glucose Measurement (Qualitative)</td>
									<td>
										<obs conceptId="159734AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="1115AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1365AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Normal,Trace,One Plus(+),Two Plus(++),Three Plus(+++),Four Plus(++++)"/>
									</td>
									<td>Urine Bile Salt Test</td>
									<td>
										<obs conceptId="161444AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="1115AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Normal,Trace - 1,One Plus(+) - 4,Two Plus(++) - 8,Three Plus(+++) - 12"/>
										mg/dL
									</td>
								</tr>
								<tr>
									<td>Urine pH</td>
									<td>
										<obs conceptId="161438AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="urine-ph"/>
									</td>
									<td>Urine Bile Pigment Test</td>
									<td>
										<obs conceptId="161443AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,One Plus(+),Two Plus(++),Three Plus(+++)"/>
									</td>
								</tr>
								<tr>
									<td>Urine Specific Gravity</td>
									<td>
										<obs conceptId="161439AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" id="urine-specific-gravity"/>
									</td>
									<td>Urine Color</td>
									<td>
										<obs conceptId="162106AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
									</td>
								</tr>
								<tr>
									<td>Urine Nitrite Test</td>
									<td>
										<obs conceptId="161440AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,Positive,One Plus(+),Two Plus(++)"/>
									</td>
									<td>Urine Turbidity</td>
									<td>
										<obs conceptId="162101AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
									</td>
								</tr>
								<tr>
									<td>Urine Dipstick for Blood</td>
									<td>
										<obs conceptId="162096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerConceptIds="664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1874AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1362AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1363AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Negative,Trace,One Plus(+),Two Plus(++),Three Plus(+++)"/>
									</td>
								</tr>
								</obsgroup>
								<tr>
									<br/>
									<td>
										<strong><U>Other tests</U></strong>

									</td>
								</tr>
								<tr>
									<td>Syphilis test :</td>
									<td>
										<obs conceptId="299AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 id="syphilis-test-results"
											 answerConceptIds="1229AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1228AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1402AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1304AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
											 answerLabels="Non Reactive,Reactive,Not Tested,Poor Sample quality"/>
									</td>
									<td>
										<table class="syphilis-treated">
											<tr>
												<td width="250">Has the client been treated for syphilis? </td>
												<td>
													<obs conceptId="160733AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
														 style="radio"
														 class="syphilisTreated"
														 answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
														 answerLabels="Yes,No"/>
												</td>
											</tr>
										</table>
									</td>
								</tr>
								<tr>
									<td>BS for MPS:</td>
									<td>
										<obs conceptId="32AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
									</td>
								</tr>
							</table>
						</td>
					</tr>

			</table>
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<fieldset>
				<legend>Client monitoring</legend>
				<table align="center" width="100%" class="tb1">
					<tr>
						<td>
							<table align="center" width="100%" class="tb1">
								<td>WHO Staging:</td>
								<td>
									<obs conceptId="5356AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
										 answerConceptIds="1204AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1205AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1206AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1207AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
										 style="dropdown" answerLabels="WHO Stage1,WHO Stage2,WHO Stage3,WHO Stage4"/>
								</td>
								<td>CD4:</td>
								<td>
									<obs conceptId="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" showUnits="true"/>
								</td>
								<tr>
									<td>HIV Viral load sample taken?</td>
									<td>
										<obs conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptIds="856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabels="Yes,No" style="dropdown"/>
										<span id="lastVl"></span>
									</td>
								</tr>
								<tr class="patient-details">
									<td>HIV Viral Load</td>
									<td>
										<obs id="vl" conceptId="856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
										copies/ml
									</td>
									<td>HIV Viral Load(LDL)</td>
									<td><obs conceptId="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="LDL" id="ldl" />
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
   <tr>
	<td colspan="2">
		<fieldset>
			<legend>ARV Medication</legend>
			<table align="center" width="100%" class="tb1">
				<tr>
					<td>Mother On:</td>
					<td colspan="5">
						<obs conceptId="1147AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 id="arv-status"
							 style="radio"
							 answerConceptIds="1148AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1175AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
							 answerLabels="ARV Prophylaxis,HAART,NA"/>
					</td>
				</tr>
				<tr>
					<td colspan="6">
						<table id="arv-medication" align="center" width="100%" class="tb1">
							<tr>
								<td style="background-color: #B3C2F0; color: #000000;">Drug</td>
								<td style="background-color: #B3C2F0; color: #000000;">Dose</td>
								<td style="background-color: #B3C2F0; color: #000000;">Dose Units</td>
								<td style="background-color: #B3C2F0; color: #000000;">Frequency</td>
								<td style="background-color: #B3C2F0; color: #000000;">Duration</td>
								<td style="background-color: #B3C2F0; color: #000000;">Duration Units</td>
							</tr>
							<repeat>
								<template>
									<obsgroup groupingConceptId="1442AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
										<tr>
											<td>
												<obs id="drug" class="arv-med"
													 conceptId="966AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 answerConceptIds="70056AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,71647AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,74807AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75523AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,75628AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,77995AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,78643AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,79040AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80487AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,80586AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,83412AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84309AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,84795AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,86663AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
											</td>
											<td>
												<obs id="dose-" class="arv-med"
													 conceptId="1443AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
											</td>
											<td>
												<obs id="dose-units" class="arv-med"
													 conceptId="1444AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 size="5"/>
											</td>
											<td>
												<obs id="frequency"
													 class="arv-med"
													 conceptId="160855AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 answerConceptIds="160862AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160863AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160864AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160865AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160858AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160866AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160870AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 answerLabels="Once daily,Once daily at bedtime,Once daily in the evening,Once daily in the morning,Twice daily,Thrice daily,Four times daily"
														/>
											</td>
											<td>
												<obs id="duration" class="arv-med"
													 conceptId="159368AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
											</td>
											<td>
												<obs id="duration-units"
													 class="arv-med"
													 conceptId="1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 answerConceptIds="1822AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1073AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1074AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
													 answerLabels="Hours,Days,Weeks,Months"/>
											</td>
										</tr>
									</obsgroup>
								</template>
								<render medId="1"/>
								<render medId="2"/>
								<render medId="3"/>
							</repeat>
						</table>
					</td>
				</tr>
			</table>
		</fieldset>
	</td>
   </tr>
   <tr>
		<td colspan="2">
			<fieldset>
				<legend>Client education</legend>
				<table align="center" width="100%" class="tb1">
					<tr>
						<td>Has the client received ANC counselling: &#160;&#160;&#160;&#160;&#160;&#160;&#160;

							<obs conceptId="1912AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
								 id="counselled"
								 style="radio"
								 answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
								 answerLabels="Yes,No"/>
						</td><td><td><recentObs conceptId="159853AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td></td>
					</tr>
					<tr>
						<td colspan="6">
							<table id="anc-counselling" align="center" width="100%" class="tb1">
								<tr>
									<td style="background-color: #B3C2F0; color: #000000;">Subject</td>
								</tr>
								<repeat>
									<template>
										<obsgroup groupingConceptId="161048AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
											<tr>
												<td>
													<obs id="subject" class="anc-counsel"
														 conceptId="159853AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
														 answerConceptIds="161006AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,159857AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,156277AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1914AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161049AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,159856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,161651AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,160428AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
														 answerLabels="Birth plans,Danger signs,Family planning,HIV,Supplimental feeding,Breast care,Infant feeding,Insectiside treated nets"/>
												</td>

											</tr>
										</obsgroup>
									</template>
									<render counselId="1"/>
									<render counselId="2"/>
									<render counselId="3"/>
								</repeat>
							</table>
						</td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
<tr>
	<td colspan="2">
		<legend>Clinical Notes</legend>
		<table align="center" width="100%" class="tb1">
			<tr>
				<td>
					<obs conceptId="159395AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" rows="10" cols="150"
						 style="textarea"/>
				</td>
			</tr>
		</table>
	</td>
</tr>
</table>
</div>

<div class="ke-form-footer">
	<submit/>
</div>

</htmlform>